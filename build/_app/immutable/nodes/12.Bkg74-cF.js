import{a as n,f as p}from"../chunks/DFmd7aBj.js";import"../chunks/DigF5LTR.js";import{o as B}from"../chunks/C4DNNmEB.js";import{p as I,a as L,s as u,b as v,c as o,g as t,r as e,m as M,t as $}from"../chunks/LtRqTWwp.js";import{s as y}from"../chunks/NpB3I255.js";import{i as q}from"../chunks/okGzk5Aq.js";import{e as z,i as C}from"../chunks/DvyztBQG.js";import{e as x}from"../chunks/BwVSfNZk.js";import{i as E}from"../chunks/BvBIkWR3.js";import{db as r}from"../chunks/h3MKsja5.js";var F=p('<div class="p-6 bg-white border rounded-lg text-gray-500">Tidak ada item di sampah</div>'),G=p('<div class="bg-white p-4 border rounded-lg flex justify-between items-center"><div><div class="font-semibold"> </div> <div class="text-sm text-gray-500"> </div></div> <div class="flex gap-2"><button class="px-3 py-2 border rounded">Restore</button> <button class="px-3 py-2 border rounded text-red-600">Hapus</button></div></div>'),J=p('<div class="space-y-3"></div>'),N=p('<section><h1 class="text-xl font-semibold mb-4">Sampah (Recycle Bin)</h1> <!></section>');function ea(g,w){I(w,!1);let s=M([]);B(async()=>{u(s,await r.trash.toArray())});async function k(a){a.type==="KK"?await r.kk.put(a.data):a.type==="KTP"&&await r.ktp.put(a.data),await r.trash.delete(a.id),u(s,await r.trash.toArray()),alert("Data berhasil dipulihkan")}async function D(a){confirm("Hapus permanen?")&&(await r.trash.delete(a.id),u(s,await r.trash.toArray()))}E();var l=N(),A=v(o(l),2);{var K=a=>{var i=F();n(a,i)},H=a=>{var i=J();z(i,5,()=>t(s),C,(P,d)=>{var c=G(),m=o(c),f=o(m),R=o(f);e(f);var b=v(f,2),S=o(b);e(b),e(m);var h=v(m,2),_=o(h),T=v(_,2);e(h),e(c),$(j=>{y(R,`${t(d).type??""} â€” ID: ${t(d).original_id??""}`),y(S,`Dihapus: ${j??""}`)},[()=>new Date(t(d).deleted_at).toLocaleString()]),x("click",_,()=>k(t(d))),x("click",T,()=>D(t(d))),n(P,c)}),e(i),n(a,i)};q(A,a=>{t(s).length===0?a(K):a(H,!1)})}e(l),n(g,l),L()}export{ea as component};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/97ReT2PQ.js","../chunks/h3MKsja5.js","../chunks/PPVm8Dsz.js"])))=>i.map(i=>d[i]);
import{_ as Z}from"../chunks/PPVm8Dsz.js";import{a as g,f as h}from"../chunks/DFmd7aBj.js";import"../chunks/DigF5LTR.js";import{o as ee}from"../chunks/C4DNNmEB.js";import{t as j,c as o,n as te,r as i,p as ae,a as re,s as b,b as s,g as e,m as w,aB as ie}from"../chunks/LtRqTWwp.js";import{s as A}from"../chunks/NpB3I255.js";import{i as oe}from"../chunks/okGzk5Aq.js";import{e as se,i as le}from"../chunks/DvyztBQG.js";import{r as O,a as W,s as ne}from"../chunks/W_A9d85F.js";import{e as L}from"../chunks/BwVSfNZk.js";import{b as ve}from"../chunks/BTTHKy0d.js";import{i as ue}from"../chunks/BvBIkWR3.js";import{l as z,k as de}from"../chunks/CeB3N-yN.js";import{b as ce}from"../chunks/BpknFwy2.js";import{p as S}from"../chunks/WA7DWby9.js";var pe=h('<div class="relative"><input aria-label="Search" class="w-full p-3 border rounded-lg pl-10"/> <div class="absolute left-3 top-3 text-gray-400">üîç</div></div>');function me(m,l){let n=S(l,"value",12,""),v=S(l,"placeholder",8,"Cari nama, NIK, alamat..."),r=S(l,"onInput",8,null);var t=pe(),u=o(t);O(u),te(2),i(t),j(()=>W(u,"placeholder",v())),ce(u,n),L("input",u,function(...T){r()?.apply(this,T)}),g(m,t)}function fe(m,l){if(!l||l.trim()==="")return!0;const n=l.trim().toLowerCase(),v=["no_kk","kepala_keluarga","alamat_keluarga","anggota_keluarga"];for(const r of v){const t=m[r];if(t&&(typeof t=="string"&&t.toLowerCase().includes(n)||Array.isArray(t)&&t.join(" ").toLowerCase().includes(n)||typeof t=="object"&&JSON.stringify(t).toLowerCase().includes(n)))return!0}return!1}var _e=h('<div class="p-6 bg-white border rounded-lg text-gray-500">Belum ada KK</div>'),be=h('<a class="block bg-white p-4 rounded-lg border shadow-sm flex justify-between items-center hover:shadow-md"><div class="flex items-center gap-3"><input type="checkbox"/> <div><div class="font-semibold"> </div> <div class="text-sm text-gray-500"> </div></div></div> <div class="text-sm text-gray-500"> </div></a>'),ge=h('<div class="mb-3 flex items-center gap-3"><select class="p-2 border rounded"><option>Pilih kategori untuk bulk</option><option>WARGA_TETAP</option><option>PENDATANG</option><option>TIDAK_DITEMUKAN</option></select> <button class="btn-base border"> </button></div> <div class="space-y-3"></div>',1),he=h('<section><div class="flex items-center justify-between mb-4"><h1 class="text-xl font-semibold">Daftar KK</h1> <a href="/kk/new" class="text-sm text-primary">+ Tambah manual</a></div> <div class="mb-4"><!></div> <!></section>');function Le(m,l){ae(l,!1);let n=w([]),v=w(""),r=w(new Set),t=w("");ee(async()=>{await z(),de.subscribe(a=>b(n,a))});function u(a){e(r).has(a)?e(r).delete(a):e(r).add(a),b(r,new Set(e(r)))}async function T(){if(!e(t))return alert("Pilih kategori");const a=Array.from(e(r)),{bulkUpdateCategory:d}=await Z(async()=>{const{bulkUpdateCategory:c}=await import("../chunks/97ReT2PQ.js");return{bulkUpdateCategory:c}},__vite__mapDeps([0,1,2]),import.meta.url),f=await d(a,e(t));alert(`Diterapkan ke ${f} item`),b(r,new Set),await z()}ue();var K=he(),C=s(o(K),2),q=o(C);me(q,{get value(){return e(v)},set value(a){b(v,a)},$$legacy:!0}),i(C);var J=s(C,2);{var Q=a=>{var d=_e();g(a,d)},V=a=>{var d=ge(),f=ie(d),c=o(f),D=o(c);D.value=D.__value="";var E=s(D);E.value=E.__value="WARGA_TETAP";var I=s(E);I.value=I.__value="PENDATANG";var G=s(I);G.value=G.__value="TIDAK_DITEMUKAN",i(c);var y=s(c,2),$=o(y);i(y),i(f);var U=s(f,2);se(U,5,()=>e(n).filter(_=>fe(_,e(v))),le,(_,p)=>{var k=be(),N=o(k),x=o(N);O(x);var B=s(x,2),P=o(B),F=o(P,!0);i(P);var M=s(P,2),H=o(M,!0);i(M),i(B),i(N);var R=s(N,2),X=o(R);i(R),i(k),j(Y=>{W(k,"href",`/kk/${e(p).id}`),ne(x,Y),A(F,e(p).kepala_keluarga||"‚Äî"),A(H,e(p).no_kk),A(X,`${(e(p).jumlah_anggota||0)??""} anggota`)},[()=>e(r).has(e(p).id)]),L("change",x,()=>u(e(p).id)),g(_,k)}),i(U),j(()=>{y.disabled=e(r).size===0,A($,`Terapkan ke terpilih (${e(r).size??""})`)}),ve(c,()=>e(t),_=>b(t,_)),L("click",y,T),g(a,d)};oe(J,a=>{e(n).length===0?a(Q):a(V,!1)})}i(K),g(m,K),re()}export{Le as component};

import{aF as G,g as L,q as J,u as K,aG as k,w as E,ab as W,a2 as _,v as l,A as g,aH as x,Z as Q,Y as Z,$ as ee,a6 as u,X as $,aI as A,ag as N,ay as te,aJ as se,ao as I,an as M,aK as V,aL as ie,ap as re,aq as j,aM as C,aN as ne,aO as H,aP as ae,a5 as he,ak as S,V as b,n as fe,a0 as oe,aQ as P,aR as de,az as _e,aS as le,aT as ce,aU as D,W as ue,a3 as z,aA as pe,al as ge,aV as F,a1 as y,aW as ve,aj as ye,aX as me,a9 as Ee,p as be,a4 as Te,aY as Re,a as we}from"./LtRqTWwp.js";import{a as Ae,r as q,h as B}from"./BwVSfNZk.js";import{b as Ne}from"./DFmd7aBj.js";function Se(s){let e=0,t=W(0),r;return()=>{G()&&(L(t),J(()=>(e===0&&(r=K(()=>s(()=>k(t)))),e+=1,()=>{E(()=>{e-=1,e===0&&(r?.(),r=void 0,k(t))})})))}}var De=_e|le;function Fe(s,e,t){new Ye(s,e,t)}class Ye{parent;is_pending=!1;#t;#p=l?_:null;#n;#o;#s;#i=null;#e=null;#r=null;#a=null;#d=0;#f=0;#_=!1;#l=new Set;#c=new Set;#h=null;#y=Se(()=>(this.#h=W(this.#d),()=>{this.#h=null}));constructor(e,t,r){this.#t=e,this.#n=t,this.#o=n=>{var i=g;i.b=this,i.f|=x,r(n)},this.parent=g.b,this.#s=Q(()=>{if(l){const n=this.#p;Z(),n.data===ee?this.#E():this.#m()}else this.#g()},De),l&&(this.#t=_)}#m(){try{this.#i=u(()=>this.#o(this.#t))}catch(e){this.error(e)}}#E(){const e=this.#n.pending;e&&(this.is_pending=!0,this.#e=u(()=>e(this.#t)),E(()=>{var t=this.#a=document.createDocumentFragment(),r=$();t.append(r),this.#i=this.#u(()=>(A.ensure(),u(()=>this.#o(r)))),this.#f===0&&(this.#t.before(t),this.#a=null,N(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#f=0,this.#d=0,this.#i=u(()=>{this.#o(this.#t)}),this.#f>0){var e=this.#a=document.createDocumentFragment();te(this.#i,e);const t=this.#n.pending;this.#e=u(()=>t(this.#t))}else this.is_pending=!1}catch(t){this.error(t)}}defer_effect(e){se(e,this.#l,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#u(e){var t=g,r=re,n=j;I(this.#s),M(this.#s),V(this.#s.ctx);try{return e()}catch(i){return ie(i),null}finally{I(t),M(r),V(n)}}#v(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(e);return}if(this.#f+=e,this.#f===0){this.is_pending=!1;for(const t of this.#l)C(t,ne),H(t);for(const t of this.#c)C(t,ae),H(t);this.#l.clear(),this.#c.clear(),this.#e&&N(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null)}}update_pending_count(e){this.#v(e),this.#d+=e,!(!this.#h||this.#_)&&(this.#_=!0,E(()=>{this.#_=!1,this.#h&&he(this.#h,this.#d)}))}get_effect_pending(){return this.#y(),L(this.#h)}error(e){var t=this.#n.onerror;let r=this.#n.failed;if(!t&&!r)throw e;this.#i&&(S(this.#i),this.#i=null),this.#e&&(S(this.#e),this.#e=null),this.#r&&(S(this.#r),this.#r=null),l&&(b(this.#p),fe(),b(oe()));var n=!1,i=!1;const h=()=>{if(n){ce();return}n=!0,i&&de(),this.#r!==null&&N(this.#r,()=>{this.#r=null}),this.#u(()=>{A.ensure(),this.#g()})};E(()=>{try{i=!0,t?.(e,h),i=!1}catch(a){P(a,this.#s&&this.#s.parent)}r&&(this.#r=this.#u(()=>{A.ensure();try{return u(()=>{var a=g;a.b=this,a.f|=x,r(this.#t,()=>e,()=>h)})}catch(a){return P(a,this.#s.parent),null}}))})}}const Oe=["touchstart","touchmove"];function ke(s){return Oe.includes(s)}function Ce(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??=s.nodeValue)&&(s.__t=t,s.nodeValue=t+"")}function xe(s,e){return U(s,e)}function He(s,e){D(),e.intro=e.intro??!1;const t=e.target,r=l,n=_;try{for(var i=ue(t);i&&(i.nodeType!==z||i.data!==pe);)i=ge(i);if(!i)throw F;y(!0),b(i);const h=U(s,{...e,anchor:i});return y(!1),h}catch(h){if(h instanceof Error&&h.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw h;return h!==F&&console.warn("Failed to hydrate: ",h),e.recover===!1&&ve(),D(),ye(t),y(!1),xe(s,e)}finally{y(r),b(n)}}const m=new Map;function U(s,{target:e,anchor:t,props:r={},events:n,context:i,intro:h=!0}){D();var a=void 0,X=me(()=>{var v=t??e.appendChild($());Fe(v,{pending:()=>{}},f=>{be({});var o=j;if(i&&(o.c=i),n&&(r.$$events=n),l&&Ne(f,null),a=s(f,r)||{},l&&(g.nodes.end=_,_===null||_.nodeType!==z||_.data!==Te))throw Re(),F;we()});var T=new Set,R=f=>{for(var o=0;o<f.length;o++){var d=f[o];if(!T.has(d)){T.add(d);var p=ke(d);for(const w of[e,document]){var c=m.get(w);c===void 0&&(c=new Map,m.set(w,c));var O=c.get(d);O===void 0?(w.addEventListener(d,B,{passive:p}),c.set(d,1)):c.set(d,O+1)}}}};return R(Ee(Ae)),q.add(R),()=>{for(var f of T)for(const p of[e,document]){var o=m.get(p),d=o.get(f);--d==0?(p.removeEventListener(f,B),o.delete(f),o.size===0&&m.delete(p)):o.set(f,d)}q.delete(R),v!==t&&v.parentNode?.removeChild(v)}});return Y.set(a,X),a}let Y=new WeakMap;function Pe(s,e){const t=Y.get(s);return t?(Y.delete(s),t(e)):Promise.resolve()}export{He as h,xe as m,Ce as s,Pe as u};

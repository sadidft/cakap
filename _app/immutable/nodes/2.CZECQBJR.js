import{a as n,f as m}from"../chunks/DFmd7aBj.js";import"../chunks/DigF5LTR.js";import{o as q}from"../chunks/C4DNNmEB.js";import{p as z,t as j,a as E,s as S,b as i,c as t,r as a,n as F,g as d,m as T}from"../chunks/LtRqTWwp.js";import{s as o}from"../chunks/NpB3I255.js";import{i as G}from"../chunks/okGzk5Aq.js";import{e as H,i as Q}from"../chunks/DvyztBQG.js";import{e as V}from"../chunks/BwVSfNZk.js";import{i as W}from"../chunks/BvBIkWR3.js";import{l as A,k as B}from"../chunks/CeB3N-yN.js";var X=m('<div class="p-6 bg-white border rounded-lg text-gray-500">Belum ada data. Tambah lewat "Scan" atau input manual. <div class="mt-4"><button class="btn-base bg-primary text-white">Seed demo data</button></div></div>'),Y=m('<div class="bg-white p-4 rounded-lg border shadow-sm flex justify-between items-center"><div><div class="font-semibold"> </div> <div class="text-sm text-gray-500"> </div></div> <div class="text-sm text-gray-500"> </div></div>'),Z=m('<div class="space-y-3"></div>'),$=m('<section><div class="flex items-center justify-between mb-6"><h1 class="text-2xl font-bold">Beranda</h1> <div class="text-sm text-gray-500">RT 003</div></div> <div class="grid grid-cols-3 gap-4 mb-6"><div class="bg-white p-4 rounded-lg shadow-sm border"><div class="text-sm text-gray-500">KK</div> <div class="text-2xl font-bold"> </div></div> <div class="bg-white p-4 rounded-lg shadow-sm border"><div class="text-sm text-gray-500">Jiwa</div> <div class="text-2xl font-bold"> </div></div> <div class="bg-white p-4 rounded-lg shadow-sm border"><div class="text-sm text-gray-500">KTP</div> <div class="text-2xl font-bold">â€”</div></div></div> <div class="mb-6"><a href="/scan" class="btn-base bg-primary text-white inline-block">ðŸ“· SCAN KK / KTP</a></div> <div class="space-y-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold">Daftar KK</h2> <a href="/kk" class="text-sm text-primary">Lihat semua</a></div> <!></div></section>');function na(D,J){z(J,!1);let l=T([]),_=T(0);q(async()=>{await A(),B.subscribe(e=>S(l,e)),B.subscribe(e=>{S(_,(e||[]).reduce((s,r)=>s+(r.jumlah_anggota||0),0))})});async function N(){const e={profile_id:1,no_kk:"3273011508210001",kepala_keluarga:"BUDI SANTOSO",jumlah_anggota:4,anggota_nik:["3273010101800001","3273014502820002","3273011005080001","3273015508120001"]};await addKK(e),await A()}W();var c=$(),b=i(t(c),2),g=t(b),u=i(t(g),2),O=t(u,!0);a(u),a(g);var h=i(g,2),w=i(t(h),2),P=t(w,!0);a(w),a(h),F(2),a(b);var y=i(b,4),C=i(t(y),2);{var I=e=>{var s=X(),r=i(t(s)),v=t(r);a(r),a(s),V("click",v,N),n(e,s)},L=e=>{var s=Z();H(s,5,()=>d(l).slice(0,4),Q,(r,v)=>{var x=Y(),p=t(x),f=t(p),M=t(f,!0);a(f);var k=i(f,2),R=t(k,!0);a(k),a(p);var K=i(p,2),U=t(K);a(K),a(x),j(()=>{o(M,d(v).kepala_keluarga||"â€”"),o(R,d(v).no_kk),o(U,`${(d(v).jumlah_anggota||0)??""} anggota`)}),n(r,x)}),a(s),n(e,s)};G(C,e=>{d(l).length===0?e(I):e(L,!1)})}a(y),a(c),j(()=>{o(O,d(l).length),o(P,d(_))}),n(D,c),E()}export{na as component};

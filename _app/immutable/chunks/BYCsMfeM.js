import{db as o}from"./h3MKsja5.js";async function c({ids:t=null}={}){const l=(t&&t.length?await o.kk.bulkGet(t):await o.kk.toArray()).filter(a=>a&&!a.is_deleted),e=[["id","no_kk","kepala_keluarga","jumlah_anggota","alamat","kategori","scanned_at","created_at"].join(",")];for(const a of l){const n=a.alamat_keluarga?[a.alamat_keluarga.jalan,`RT ${a.alamat_keluarga.rt}`,`RW ${a.alamat_keluarga.rw}`,a.alamat_keluarga.kabupaten_kota].filter(Boolean).join(" | "):"",r=[a.id,a.no_kk||"",a.kepala_keluarga||"",a.jumlah_anggota||0,`"${(n||"").replace(/"/g,'""')}"`,a.kategori||"",a.scanned_at||"",a.created_at||""];e.push(r.join(","))}return e.join(`
`)}export{c as exportKKToCSV};

var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var w={},b={},d={},D;function A(){if(D)return d;D=1;var f=d&&d.__extends||(function(){var i=function(o,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,E){e.__proto__=E}||function(e,E){for(var g in E)E.hasOwnProperty(g)&&(e[g]=E[g])},i(o,r)};return function(o,r){i(o,r);function e(){this.constructor=o}o.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}})();Object.defineProperty(d,"__esModule",{value:!0});var l={AbortError:"A request was aborted, for example through a call to IDBTransaction.abort.",ConstraintError:"A mutation operation in the transaction failed because a constraint was not satisfied. For example, an object such as an object store or index already exists and a request attempted to create a new one.",DataCloneError:"The data being stored could not be cloned by the internal structured cloning algorithm.",DataError:"Data provided to an operation does not meet requirements.",InvalidAccessError:"An invalid operation was performed on an object. For example transaction creation attempt was made, but an empty scope was provided.",InvalidStateError:"An operation was called on an object on which it is not allowed or at a time when it is not allowed. Also occurs if a request is made on a source object that has been deleted or removed. Use TransactionInactiveError or ReadOnlyError when possible, as they are more specific variations of InvalidStateError.",NotFoundError:"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",ReadOnlyError:'The mutating operation was attempted in a "readonly" transaction.',TransactionInactiveError:"A request was placed against a transaction which is currently not active, or which is finished.",VersionError:"An attempt was made to open a database using a lower version than the existing version."},u=(function(i){f(o,i);function o(r){r===void 0&&(r=l.AbortError);var e=i.call(this)||this;return e.name="AbortError",e.message=r,e}return o})(Error);d.AbortError=u;var c=(function(i){f(o,i);function o(r){r===void 0&&(r=l.ConstraintError);var e=i.call(this)||this;return e.name="ConstraintError",e.message=r,e}return o})(Error);d.ConstraintError=c;var a=(function(i){f(o,i);function o(r){r===void 0&&(r=l.DataCloneError);var e=i.call(this)||this;return e.name="DataCloneError",e.message=r,e}return o})(Error);d.DataCloneError=a;var t=(function(i){f(o,i);function o(r){r===void 0&&(r=l.DataError);var e=i.call(this)||this;return e.name="DataError",e.message=r,e}return o})(Error);d.DataError=t;var n=(function(i){f(o,i);function o(r){r===void 0&&(r=l.InvalidAccessError);var e=i.call(this)||this;return e.name="InvalidAccessError",e.message=r,e}return o})(Error);d.InvalidAccessError=n;var s=(function(i){f(o,i);function o(r){r===void 0&&(r=l.InvalidStateError);var e=i.call(this)||this;return e.name="InvalidStateError",e.message=r,e}return o})(Error);d.InvalidStateError=s;var v=(function(i){f(o,i);function o(r){r===void 0&&(r=l.NotFoundError);var e=i.call(this)||this;return e.name="NotFoundError",e.message=r,e}return o})(Error);d.NotFoundError=v;var h=(function(i){f(o,i);function o(r){r===void 0&&(r=l.ReadOnlyError);var e=i.call(this)||this;return e.name="ReadOnlyError",e.message=r,e}return o})(Error);d.ReadOnlyError=h;var y=(function(i){f(o,i);function o(r){r===void 0&&(r=l.TransactionInactiveError);var e=i.call(this)||this;return e.name="TransactionInactiveError",e.message=r,e}return o})(Error);d.TransactionInactiveError=y;var B=(function(i){f(o,i);function o(r){r===void 0&&(r=l.VersionError);var e=i.call(this)||this;return e.name="VersionError",e.message=r,e}return o})(Error);return d.VersionError=B,d}var m={},p;function I(){if(p)return m;p=1,Object.defineProperty(m,"__esModule",{value:!0});var f=A(),l=function(u,c){if(typeof u=="number"){if(isNaN(u))throw new f.DataError;return u}else if(u instanceof Date){var a=u.valueOf();if(isNaN(a))throw new f.DataError;return new Date(a)}else{if(typeof u=="string")return u;if(u instanceof ArrayBuffer||typeof ArrayBuffer<"u"&&ArrayBuffer.isView&&ArrayBuffer.isView(u))return u instanceof ArrayBuffer?new Uint8Array(u).buffer:new Uint8Array(u.buffer).buffer;if(Array.isArray(u)){if(c===void 0)c=new Set;else if(c.has(u))throw new f.DataError;c.add(u);for(var t=[],n=0;n<u.length;n++){var s=u.hasOwnProperty(n);if(!s)throw new f.DataError;var v=u[n],h=l(v,c);t.push(h)}return t}else throw new f.DataError}};return m.default=l,m}var _;function R(){if(_)return b;_=1,Object.defineProperty(b,"__esModule",{value:!0});var f=A(),l=I(),u=function(a){if(typeof a=="number")return"Number";if(a instanceof Date)return"Date";if(Array.isArray(a))return"Array";if(typeof a=="string")return"String";if(a instanceof ArrayBuffer)return"Binary";throw new f.DataError},c=function(a,t){if(t===void 0)throw new TypeError;a=l.default(a),t=l.default(t);var n=u(a),s=u(t);if(n!==s)return n==="Array"||n==="Binary"&&(s==="String"||s==="Date"||s==="Number")||n==="String"&&(s==="Date"||s==="Number")||n==="Date"&&s==="Number"?1:-1;if(n==="Binary"&&(a=new Uint8Array(a),t=new Uint8Array(t)),n==="Array"||n==="Binary"){for(var v=Math.min(a.length,t.length),h=0;h<v;h++){var y=c(a[h],t[h]);if(y!==0)return y}return a.length>t.length?1:a.length<t.length?-1:0}if(n==="Date"){if(a.getTime()===t.getTime())return 0}else if(a===t)return 0;return a>t?1:-1};return b.default=c,b}var T;function C(){if(T)return w;T=1,Object.defineProperty(w,"__esModule",{value:!0});var f=R(),l=A(),u=I(),c=(function(){function a(t,n,s,v){this.lower=t,this.upper=n,this.lowerOpen=s,this.upperOpen=v}return a.only=function(t){if(arguments.length===0)throw new TypeError;return t=u.default(t),new a(t,t,!1,!1)},a.lowerBound=function(t,n){if(n===void 0&&(n=!1),arguments.length===0)throw new TypeError;return t=u.default(t),new a(t,void 0,n,!0)},a.upperBound=function(t,n){if(n===void 0&&(n=!1),arguments.length===0)throw new TypeError;return t=u.default(t),new a(void 0,t,!0,n)},a.bound=function(t,n,s,v){if(s===void 0&&(s=!1),v===void 0&&(v=!1),arguments.length<2)throw new TypeError;var h=f.default(t,n);if(h===1||h===0&&(s||v))throw new l.DataError;return t=u.default(t),n=u.default(n),new a(t,n,s,v)},a.prototype.includes=function(t){if(arguments.length===0)throw new TypeError;if(t=u.default(t),this.lower!==void 0){var n=f.default(this.lower,t);if(n===1||n===0&&this.lowerOpen)return!1}if(this.upper!==void 0){var n=f.default(this.upper,t);if(n===-1||n===0&&this.upperOpen)return!1}return!0},a.prototype.toString=function(){return"[object IDBKeyRange]"},a})();return w.default=c,w}export{I as a,A as b,j as c,R as d,O as g,C as r};
